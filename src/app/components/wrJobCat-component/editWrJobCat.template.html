<p-growl [value]="msgs" life="3000"></p-growl>
<loadingCmp [loading]="loading" spinnerStyleClass="spinnerClassBlack"></loadingCmp>
<div *ngIf="!loading" class="ui-rtl" dir="rtl">

    <form [formGroup]="form" (ngSubmit)="onSubmit()">

        <div class="ui-grid ui-grid-responsive  ui-grid-pad">

            <div class="ui-grid-row">

                <div class="ui-grid-col-6">

                    <p-panel id="jobEditPanelID">
                        <div class="ui-grid ui-grid-responsive  ui-grid-pad">
                                <div class="ui-grid-row">
                                        <div class="ui-grid-col-4">
                                                <label>
                                            <i class="fa fa-info-circle font-icon-style"></i>
                                            {{shared.workStationTitleLabel}}
                                        </label></div>
                                        <div class="ui-grid-col-8">
                                          {{inputWorker.workStation.title}}
                                        </div>
                                    </div>
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-4">
                                    <label for="job_Category1LabelID">
                                    <i class="fa fa-info-circle font-icon-style"></i>
                                    {{shared.job_Category1Label}}</label></div>
                                <div class="ui-grid-col-8">
                                    <p-dropdown id="job_Category1LabelID" [(ngModel)]="selectedJobCategory1" [options]="jobCategory1List" (onChange)="onJobCategory1EditChange($event)"
                                        appendTo="body"  [style]="{'width':'100%'}" required="true" formControlName="jobCategory1FormCntrl"></p-dropdown>
                                </div>
                            </div>
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-4"><label for="job_Category2LabelID">
                                <i class="fa fa-info-circle font-icon-style"></i>
                                {{shared.job_Category2Label}}</label></div>
                                <div class="ui-grid-col-8">
                                    <p-dropdown id="job_Category2LabelID" [(ngModel)]="selectedJobCategory2" [options]="editJobCategory2List" (onChange)="onJobCategory2EditChange($event)"
                                        appendTo="body" [style]="{'width':'100%'}" required="true" formControlName="jobCategory2FormCntrl"></p-dropdown>
                                </div>
                            </div>
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-4"><label for="job_Category3LabelID">
                                <i class="fa fa-info-circle font-icon-style"></i>
                                {{shared.job_Category3Label}}</label></div>
                                <div class="ui-grid-col-7">
                                    <p-dropdown id="job_Category3LabelID" [(ngModel)]="selectedJobCategory3" [options]="editJobCategory3List" [style]="{'width':'100%'}"
                                        appendTo="body" required="true" formControlName="jobCategory3FormCntrl"></p-dropdown>
                                </div>
                                <div class="ui-grid-col-1">
                                    <button type="button" pButton icon="fa fa-plus-circle" (click)="addWorkerJobMap()" class="ui-button green-btn"></button>
                                </div>
                            </div>
                        </div>
                    </p-panel>
                </div>
                <div class="ui-grid-col-6">
                    <p-panel [header]="shared.registeredWorkJobList">
                        <p-dataTable [value]="workerToJobMapList" [rows]="4" [paginator]="true" [pageLinks]="5" [alwaysShowPaginator]="false" [emptyMessage]="shared.emptyWorkJobListMsg">
                            <p-column field="jobCategory3.jobCategory2.jobCategory1.name" header="{{shared.job_Category1Label}}"></p-column>
                            <p-column field="jobCategory3.jobCategory2.name" header="{{shared.job_Category2Label}}"></p-column>
                            <p-column field="jobCategory3.name" header="{{shared.job_Category3Label}}"></p-column>

                            <p-column header="{{shared.delLabelFa}}">
                                <ng-template let-col let-workJobMap="rowData" pTemplate="body">
                                    <div align="center">
                                        <button type="button" pButton icon="fa-close" (click)="removeWorkerJobMap(workJobMap)" class="ui-button pink-btn" [pTooltip]="shared.delLabelFa"></button>
                                    </div>
                                </ng-template>
                            </p-column>
                        </p-dataTable>
                    </p-panel>
                </div>
            </div>
        </div>
        <div align="center">
            <div>
                <button type="submit" pButton icon="fa-close" label="{{shared.closeLabel}}" class="ui-button turquoise-btn saveBtnStyle"></button>
            </div>
        </div>
    </form>
</div>
